var O=Object.defineProperty,A=Object.defineProperties;var I=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var g=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var _=(e,t,l)=>t in e?O(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,y=(e,t)=>{for(var l in t||(t={}))g.call(t,l)&&_(e,l,t[l]);if(v)for(var l of v(t))E.call(t,l)&&_(e,l,t[l]);return e},N=(e,t)=>A(e,I(t));var C=(e,t)=>{var l={};for(var n in e)g.call(e,n)&&t.indexOf(n)<0&&(l[n]=e[n]);if(e!=null&&v)for(var n of v(e))t.indexOf(n)<0&&E.call(e,n)&&(l[n]=e[n]);return l};import{r as o,R as a,c as m,u as P,e as V,a as $}from"./vendor.c12969af.js";const j=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function l(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=l(s);fetch(s.href,r)}};j();const K="_root_13j3n_1",L="_pill_13j3n_9",B="dark",z="_icon_13j3n_17",U="_disabled_13j3n_25";var i={root:K,pill:L,dark:B,icon:z,disabled:U};const f=o.exports.createContext({mode:!1,setMode:e=>{}}),R=({children:e})=>{const[t,l]=o.exports.useState(!1),n=o.exports.useCallback(r=>l(r),[l]),s=o.exports.useMemo(()=>({mode:t,setMode:n}),[t,n]);return a.createElement(f.Provider,{value:s},e)},q=()=>{const{mode:e,setMode:t}=o.exports.useContext(f),l=o.exports.useCallback(n=>()=>{t(n)},[t]);return{mode:e,onClick:l}},D=()=>{const{mode:e,onClick:t}=q();return a.createElement("div",{className:i.root},a.createElement("div",{className:i.pill},a.createElement("button",{onClick:t(!1),className:m(i.icon,{[i.disabled]:e})},a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"}))),a.createElement("button",{onClick:t(!0),className:m(i.icon,{[i.disabled]:!e})},a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})))))},X=({text:e="",subText:t=""})=>({value:e,subValue:t}),W="_container_pi2xg_1",H="_textArea_pi2xg_9",G="_subText_pi2xg_17",J="_text_pi2xg_9",Q="_scalingText_pi2xg_33";var d={container:W,textArea:H,subText:G,text:J,scalingText:Q};const k=document.createElement("canvas"),p=k.getContext("2d"),h=e=>{const t=window.getComputedStyle(e,null);return{font:t.font,fontSize:parseFloat(t.getPropertyValue("font-size")),fontFamily:t.getPropertyValue("font-family"),width:parseFloat(t.getPropertyValue("width"))}},Y=(e,t,l,n=.9)=>{if(p){p.font=t,p.font;const s=p.measureText(e);return Math.min(l*n/s.width,1)}return 1},Z=({value:e})=>{const[t,l]=o.exports.useState(),[n,s]=o.exports.useState(),r=o.exports.useRef(null);return o.exports.useEffect(()=>{if(r.current){const{fontSize:c}=h(r.current);return l(c),()=>{l(void 0)}}return()=>{}},[l]),o.exports.useEffect(()=>{if(t&&k&&p&&r.current){const{font:c,width:M}=h(r.current);s(Y(e,c,M))}},[e,t]),o.exports.useMemo(()=>({ref:r,scale:n!=null?n:1}),[n])},w=l=>{var n=l,{children:e}=n,t=C(n,["children"]);const{ref:s,scale:r}=Z({value:String(e)});return a.createElement("div",N(y({},t),{ref:s,style:{transform:`scale(${r})`}}),e)},ee=({text:e,subText:t})=>{const{value:l,subValue:n}=X({text:e,subText:t});return a.createElement("div",{className:d.container},a.createElement(D,null),a.createElement("div",{className:d.textArea},a.createElement("div",{className:d.subText},a.createElement(w,{className:d.scalingText},n===""?a.createElement(a.Fragment,null,"\xA0"):n)),a.createElement("div",{className:d.text},a.createElement(w,{className:d.scalingText},l===""?a.createElement(a.Fragment,null,"\xA0"):l))))};var u;(function(e){e.EXPRESSION="EXPRESSION",e.FUNCTION="FUNCTION"})(u||(u={}));const x=[{value:"C",label:"C",type:u.FUNCTION},{value:"(",label:"("},{value:")",label:")"},{value:"%",label:"%"},{value:"7",label:"7"},{value:"8",label:"8"},{value:"9",label:"9"},{value:"/",label:"\xF7"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"6",label:"6"},{value:"*",label:"X"},{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"-",label:"-"},{value:"0",label:"0"},{value:".",label:"."},{value:"+",label:"+"},{value:"=",label:"=",type:u.FUNCTION,keyBinding:"Enter"},{value:"AC",label:"AC",type:u.FUNCTION,keyBinding:"Backspace"}],te=e=>({key:t})=>!!T(e,t),T=(e,t)=>e.find(l=>l.keyBinding===t||l.value===t),ne=(e,t)=>({key:l})=>{const n=T(e,l);n&&t(n)},le=({onInput:e=()=>{}})=>(P(te(x),ne(x,e)),{handleClick:t=>()=>{e(t)},keys:x}),ae="_container_1fq98_1",re="dark",se="_key_1fq98_9",oe="_operation_1fq98_17";var b={container:ae,dark:re,key:se,operation:oe};const ce=({onInput:e})=>{const{keys:t,handleClick:l}=le({onInput:e});return a.createElement("div",{className:m(b.container)},t.map(n=>a.createElement("div",{className:m(b.key,{[b.operation]:n.type===u.FUNCTION}),key:n.value,onClick:l(n)},a.createElement("div",null,n.label))))},ue="_calculator_151e4_1",ie="dark",de="_wrapper_151e4_7";var F={calculator:ue,dark:ie,wrapper:de};const S={"=":e=>V(e),AC:e=>`${e}`.slice(0,-1),C:()=>""},me=Object.keys(S),pe=e=>me.includes(e),ve=e=>e.type===u.FUNCTION,fe=(e,t)=>ve(t)?pe(t.value)?S[t.value](e):null:`${e}${t.value}`,xe=()=>{const[e,t]=o.exports.useState(""),[l,n]=o.exports.useState("");return{previousValue:l,value:e,handleInput:s=>{try{const r=fe(e,s);s.value==="="&&r&&n(e),s.value==="C"&&r!==null&&n(r),r!==null&&t(r)}catch{}}}},be=()=>{const{value:e,previousValue:t,handleInput:l}=xe();return a.createElement(R,null,a.createElement(f.Consumer,null,({mode:n})=>a.createElement("div",{className:m({dark:n},F.wrapper)},a.createElement("div",{className:F.calculator},a.createElement(ee,{text:e,subText:t}),a.createElement(ce,{onInput:l})))))};function ge(){return a.createElement("div",{className:"flex justify-center w-screen h-screen bg-gray-200"},a.createElement("div",{className:"lg:py-20 w-screen lg:w-96 h-screen"},a.createElement(be,null)))}$.render(a.createElement(a.StrictMode,null,a.createElement(ge,null)),document.getElementById("root"));
